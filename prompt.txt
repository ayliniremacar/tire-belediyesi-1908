
⸻

✅ Yapay Zeka için Final Prompt (Harita Dönüşümü + Yönlendirme Entegrasyonu)

🎯 GÖREV:
Mevcut React Native uygulamasının harita altyapısını Google Maps’ten OpenStreetMap (OSM) tabanlı yapıya geçir. Ayrıca uygulamada yer alan tüm “Haritada Göster” ve “Yol Tarifi” butonlarını aşağıdaki navigasyon davranışına göre entegre et:

🔁 Butona tıklandığında, ilgili lokasyon bilgisiyle Harita ekranına (MapScreen.js) yönlendirme yapılmalı ve haritada ilgili nokta otomatik olarak gösterilmeli.

⸻

📎 Referanslar:
	•	Harita ekranı: MapScreen.js
	•	Haritaya yönlendirme yapan mevcut butonlar:
	•	Ana Sayfa > Nasıl Gelinir > “Haritada Göster”
	•	Ana Sayfa > Gezi Rotaları > “Rotayı Başlat” (3 farklı rota)
	•	Ana Sayfa > Bize Ulaşın > “Adres” satırı (koordinatlar sabit)
	•	Ana Sayfa > Nöbetçi Eczaneler > “Yol Tarifi” (4 farklı eczane)
	•	Gezi Noktaları > “Yol Tarifi” (tekil nokta)
	•	Sistem dökümanı:
/Users/hasangulec/Desktop/belediye/tire-belediyesi30.07/tire belediyesi analiz dokümanı ve iş planı.pdf
(Referans bölüm: “Navigasyon İşlevleri” ve “Harita Entegrasyon Katmanı”)

⸻

🗺️ 1. OpenStreetMap Dönüşümü:
	•	Mevcut react-native-maps kütüphanesi yalnızca Google Maps destekliyse kaldırılmalı.
	•	Yerine OpenStreetMap desteği olan alternatiflerden biri entegre edilmeli:
	•	Örnek: react-native-maps + tile provider override
	•	MapView içerisine tile provider olarak şu satır eklenmeli:

<MapView
  provider={null}
  customMapStyle={[]}
  style={styles.map}
  region={region}
  showsUserLocation={true}
>
  <UrlTile
    urlTemplate="http://c.tile.openstreetmap.org/{z}/{x}/{y}.png"
    maximumZ={19}
  />
</MapView>


⸻

🚀 2. Haritaya Navigasyon Ayarı:

Aşağıdaki ekranlarda, ilgili butona basıldığında navigation.navigate("Harita", { spot }) ile harita ekranına veri gönderimi sağlanmalı. Gönderilen spot nesnesi şu yapıda olmalı:

{
  ad: string,              // Nokta adı
  aciklama: string,        // Açıklama
  enlem: number,           // Latitude
  boylam: number,          // Longitude
  kategori?: string        // (isteğe bağlı) Marker rengi için
}


⸻

📌 Navigasyona Dahil Edilecek Butonlar:

Konum	Buton	Açıklama
Ana Sayfa → Nasıl Gelinir	Haritada Göster	Tire Belediye binasının koordinatları gönderilecek.
Ana Sayfa → Gezi Rotaları	Rotayı Başlat (3 kartta)	Her rotanın ilk durağı haritada açılmalı.
Ana Sayfa → Bize Ulaşın	Adres Satırı	Marker adresin bulunduğu koordinatla gösterilmeli.
Ana Sayfa → Nöbetçi Eczaneler	Yol Tarifi (4 eczane kartı)	Her eczanenin konum bilgisi spot objesi ile gönderilmeli.
Gezi Noktaları	Yol Tarifi	Her gezi noktasında yer alan buton haritaya yönlendirmeli.


⸻

⚙️ 3. Harita Ekranında Yönlendirme Sonrası İşlem:
	•	MapScreen.js component içinde route.params?.spot varsa:
	•	Harita bu koordinata zoom yapsın.
	•	Marker otomatik açılmış olarak gösterilsin (callout.show()).
	•	Eğer spot parametresi yoksa:
	•	Tüm gezi noktaları default olarak listelenmeye devam etsin.

⸻

📦 4. Supabase Verisi Olmadığında:
	•	Eğer Supabase’den gezi_noktalari tablosu boş gelirse:
	•	Harita üstünde “Veri bulunamadı” uyarısı gösterilsin.
	•	Marker dizisi boş olmalı, çökme yaşanmamalı.

⸻

🔚 ÇIKTI BEKLENTİSİ:
	•	MapScreen.js dosyası:
	•	OpenStreetMap destekli
	•	route.params.spot ile gelen konumu gösteren
	•	Diğer sayfalardan gelen yönlendirmeleri işleyen
	•	Supabase datası yoksa fallback mesaj gösteren
	•	Diğer .js dosyalarında:
	•	Belirtilen butonlar üzerine navigation.navigate("Harita", { spot }) eklensin.

⸻